
# Message new

```sh
{
  "token": "ir7hozblv4",
  "bot": false,
  "channel_id": "ZpMw6XxSuZdpupcDa",
  "channel_name": "THANG-TEST-2",
  "message_id": "QSGJ9YqFkXuinmHAt",
  "timestamp": "2021-03-18T03:37:15.725Z",
  "user_id": "zk8ei6fZYTxnNdbWg",
  "user_name": "thangtm13",
  "text": "hi",
  "siteUrl": "http://localhost:3006/"
}
```
Lưu ý: Nếu là message media tin nhắn sẽ chưa text = ""

```sh
{
  "token": "ir7hozblv4",
  "bot": false,
  "channel_id": "ZpMw6XxSuZdpupcDa",
  "channel_name": "THANG-TEST-2",
  "message_id": "HLekBGfj7mpXQPKRx",
  "timestamp": "2021-03-18T04:20:23.227Z",
  "user_id": "zk8ei6fZYTxnNdbWg",
  "user_name": "thangtm13",
  "text": "",
  "siteUrl": "http://172.27.228.157:3006/"
}
```

Dữ liệu đính kèm (Đăng ký sự kiện Webhook khác File-Upload)

```sh
{
  "token": "v9xj7813kc",
  "bot": false,
  "channel_id": "ZpMw6XxSuZdpupcDa",
  "channel_name": "THANG-TEST-2",
  "message_id": "5dQFEhdfwqCJoQYyz",
  "timestamp": "2021-03-18T04:25:17.943Z",
  "user_id": "zk8ei6fZYTxnNdbWg",
  "user_name": "thangtm13",
  "text": "",
  "user": {
    "_id": "zk8ei6fZYTxnNdbWg",
    "createdAt": "2021-01-13T04:04:31.810Z",
    "services": {
      "password": {
        "bcrypt": "$2b$10$PudciWIBiymub.g66u6qpuGGZ38mIzj.YZKf.C5wHckjJuUSJF/Di"
      },
      "email2fa": {
        "enabled": true,
        "changedAt": "2021-01-13T04:04:31.810Z"
      },
      "email": {
        "verificationTokens": [
          {
            "token": "0moOKyElP3VmrsKArKGciBpvpnC0W-CBsJfft43Z6p6",
            "address": "thangtran.se@gmail.com",
            "when": "2021-01-13T04:04:31.832Z"
          }
        ]
      },
      "resume": {
        "loginTokens": [
          {
            "when": "2021-02-08T09:14:08.201Z",
            "hashedToken": "P2M7oApHlZ6ytA9hwL0v2rk1xFcQzs/hRVo5iPSOIzs="
          },
          {
            "when": "2021-02-09T01:55:40.801Z",
            "hashedToken": "doP0AZpeHMSaOcxc+moSl1+v2v4a/hnEJwttPGQs/00="
          },
          {
            "when": "2021-02-18T07:50:14.128Z",
            "hashedToken": "13sHHgtmn6qaHtR/vJHy2fhL4TbrKcv/lQWukF8YAcY="
          },
          {
            "when": "2021-02-22T02:48:14.055Z",
            "hashedToken": "ggXEV9cYe5QBm5byET09p0kHknxzOI7IPv1Eavjjtrk="
          },
          {
            "when": "2021-02-22T02:59:55.094Z",
            "hashedToken": "LruR2k/oly26MSaw5ZFLq44/dac6GgF3UA3y0zO1snc="
          },
          {
            "when": "2021-02-22T03:17:05.011Z",
            "hashedToken": "CYqNsjG2LnXkXUPYxQF14EO6oBMkhI2CN/S5SxIs1co="
          },
          {
            "when": "2021-02-22T03:17:55.066Z",
            "hashedToken": "c5jKnFeO9KsLH5ZeshZtb0R0hdUCT1E1aYiNv7z7dyk="
          },
          {
            "when": "2021-02-22T04:16:48.671Z",
            "hashedToken": "Bn3D3iw0vdhnL3/bIxpAruge8C1ipDHH0gMl3/VOIGk="
          },
          {
            "when": "2021-02-22T04:30:49.934Z",
            "hashedToken": "fU86+UL9uHU3FkYhHNsKfbuEt/gjf5WqE5rbuShDYNQ="
          },
          {
            "when": "2021-02-22T04:35:15.921Z",
            "hashedToken": "PWhnNToqIAAxo52WKHPrQr1KsdMHaqFqL4cH3U+2vBo="
          },
          {
            "when": "2021-02-22T04:38:35.337Z",
            "hashedToken": "/XacAntPZBm2QY7yNR/rbJAF/ff1vyCisJ63s++3HoE="
          },
          {
            "when": "2021-02-22T04:46:56.730Z",
            "hashedToken": "gHX0YKLGpc4MKOZ8bWa95V+RXf180YQcvJE3dyaFLdk="
          },
          {
            "when": "2021-02-22T05:12:13.309Z",
            "hashedToken": "L0Ett706dxp79IVmbMU3bgKDPsAFN3zZlt5m+GYYYhQ="
          },
          {
            "when": "2021-02-22T05:12:17.591Z",
            "hashedToken": "gv32ZotX1580+6rw5pHq/AnmLEo/tlfbUL9LBPLWt+s="
          },
          {
            "when": "2021-02-22T06:46:35.650Z",
            "hashedToken": "atoVZh4MPb5nHGdtv22FZC+vQhQi3hHd/C1bobzuKgw="
          },
          {
            "when": "2021-02-22T07:35:47.112Z",
            "hashedToken": "Z/yNC1u3B1l+ftkTAI+8MKAedXgQosrz6jBIg3ob210="
          },
          {
            "when": "2021-02-25T08:27:02.377Z",
            "hashedToken": "NmcO9RzVEaD5COyw9Pc6xi72pRhryxGGR/x1Dyvtoys="
          },
          {
            "when": "2021-02-25T08:47:47.327Z",
            "hashedToken": "fd9QwMO3itg5y2gJmfLh+v4VvuTp6OujGOLdNpd9/gI="
          },
          {
            "when": "2021-03-04T03:51:32.942Z",
            "hashedToken": "UmEu/MjEXIIoqSVuJWnBfVYNtv3G5APfH9MXy8DxX5o="
          },
          {
            "when": "2021-03-04T08:43:35.358Z",
            "hashedToken": "oGiYuwXBW+ZGXf5wP09NA7H45E1ywNicNPrHiDyDIFM="
          },
          {
            "when": "2021-03-05T03:26:59.877Z",
            "hashedToken": "4vj5jJ7KstUkBewQpFclE5OcJGXaxc5AgKizo4OV658="
          },
          {
            "when": "2021-03-05T03:34:39.757Z",
            "hashedToken": "w34gJrPIaNmwW3x5wKgTSUjHIqLtl9sMqLxVk/3Agmg="
          },
          {
            "when": "2021-03-05T06:57:06.867Z",
            "hashedToken": "BkypDVg7Im3JaUqhlRoahzLZzP/MODc2ozoyGGL124c="
          },
          {
            "when": "2021-03-05T06:58:28.248Z",
            "hashedToken": "VKIlkJCWq3rU1gQPmV/WiOva9CFus6qrdX4gjzQfFdg="
          },
          {
            "when": "2021-03-05T06:59:52.112Z",
            "hashedToken": "7DSr2vUCPMkCjFkTBlpfvlvARIw6tuB5sAi6b0ahiuU="
          },
          {
            "when": "2021-03-05T07:04:11.727Z",
            "hashedToken": "vkMKRDoO7GwUcYW7VGFh6nDFvbFrfciEGdhXI8k/GtA="
          },
          {
            "when": "2021-03-05T07:09:16.939Z",
            "hashedToken": "uGC1q69axW24BVTwFbluBL9vcNETl73sBLB/oKgNrrw="
          },
          {
            "when": "2021-03-05T07:15:15.478Z",
            "hashedToken": "IFD4BMfy82cOxqTC4b1vitqbwGkVHLd0eG/ULZjdIoI="
          },
          {
            "when": "2021-03-05T07:24:25.855Z",
            "hashedToken": "zJPJ4UgPld8Tdf8Eq0c3OWFlSQk1sZOZZfRf81iO/JQ="
          },
          {
            "when": "2021-03-05T08:34:36.870Z",
            "hashedToken": "z5BZeSjnfaJDyKlYG3ItNG8DguY8SKBrrtNgSrxpJfQ="
          },
          {
            "when": "2021-03-05T08:58:11.337Z",
            "hashedToken": "eHnWPEgT6GjdWV0BID5aIM4LXpgPu656smjKETd1SYE="
          },
          {
            "when": "2021-03-05T08:59:11.158Z",
            "hashedToken": "kPd3dn9q13dq9IdKpkBnEXs8xyZwVWuLv7iL5rjpIPM="
          },
          {
            "when": "2021-03-08T09:16:38.543Z",
            "hashedToken": "tsb5a1RmuE1qwBJ3t6PPJmF2G3kvKT/92dmHkVaNl+w="
          },
          {
            "when": "2021-03-08T09:16:39.922Z",
            "hashedToken": "/6G142lpLVA79qkgEzxpbRELPtdlQ3AC9YHtpMs0f2U="
          },
          {
            "when": "2021-03-09T07:04:23.606Z",
            "hashedToken": "9a7vnaW0JoqE3f8DJsXUU2vqeY1spfUc45DabTYFX4g="
          },
          {
            "when": "2021-03-09T07:04:24.372Z",
            "hashedToken": "3RYdqzm0XEYm3ZFnp0E4hUNqIpFLbImsYdiojq0IVMU="
          },
          {
            "when": "2021-03-09T08:52:41.419Z",
            "hashedToken": "iDzcCsmfMlGO+I2cVPkph1D8UiIdiR5cVGuea5+NLQg="
          },
          {
            "when": "2021-03-09T08:52:44.830Z",
            "hashedToken": "bY1BSSg4qgBgTZoxS8xEKA6p7hxfRYhBEST4S76I5Hk="
          },
          {
            "when": "2021-03-09T08:57:36.708Z",
            "hashedToken": "HEVynwTESedyY1eecZ9T5Owk5gi9tTkPEZcD/CXLnVs="
          },
          {
            "when": "2021-03-09T08:57:38.359Z",
            "hashedToken": "0SgCaicvsiokxIBf/ry3gcrN/zSLojmKMSIbkaScGMU="
          },
          {
            "when": "2021-03-10T09:47:20.172Z",
            "hashedToken": "AIi7vsbmLT5bbJUwcNy03wUypHHay0s+j7mCf8sKbh4="
          },
          {
            "when": "2021-03-11T08:05:10.041Z",
            "hashedToken": "fRtgVwWrG3rxmPPCbeu3TtLqFnFULNfnOtuT8Uoxn14="
          },
          {
            "when": "2021-03-15T07:24:47.841Z",
            "hashedToken": "WMPaB/3zKrEFN5++BDfqldDhokSrs8bn0VCSLGM3NFM="
          },
          {
            "when": "2021-03-16T03:52:48.266Z",
            "hashedToken": "LSXM+gE3WdBi8oGXArv4QGfs/5GSh+Zy0fNi92vGCuU="
          },
          {
            "when": "2021-03-16T04:01:48.469Z",
            "hashedToken": "+N0t41ZnF10UjMSdJ6ud9iMIgDwFeIDuyRav74tuihU="
          },
          {
            "when": "2021-03-16T04:01:50.173Z",
            "hashedToken": "xq0g0s2ZcWVK1//nYZJPBvaAwYOIWiWybce7oyVVV5A="
          },
          {
            "when": "2021-03-16T04:48:27.152Z",
            "hashedToken": "+RMTd4+zVkNLfO3mzamUd/vj5ZuNdqOjujF9tDepzpQ="
          },
          {
            "when": "2021-03-16T04:48:29.227Z",
            "hashedToken": "yZfDn1gIPxoFZJsCBrpzDnIxkoTkhRLcSfNWoZtcfJY="
          },
          {
            "when": "2021-03-17T02:10:10.997Z",
            "hashedToken": "DH22Rtja0Vnw4/XBUBfMEi7CE5KYWYHC11DG31fMzc4="
          }
        ]
      }
    },
    "emails": [
      {
        "address": "thangtran.se@gmail.com",
        "verified": false
      }
    ],
    "type": "user",
    "status": "online",
    "active": true,
    "_updatedAt": "2021-03-18T04:25:02.173Z",
    "roles": [
      "admin",
      "livechat-agent",
      "livechat-manager",
      "owner",
      "moderator",
      "leader",
      "user",
      "app",
      "guest",
      "anonymous",
      "testRole"
    ],
    "name": "Thang Tran",
    "lastLogin": "2021-03-18T04:24:51.748Z",
    "statusConnection": "online",
    "username": "thangtm13",
    "utcOffset": 7,
    "__rooms": [
      "GENERAL",
      "LKmCWgzLSWeGKwDaS",
      "R2RjWtiAAjoF6zFyF",
      "LA76kyDWSXpa4RpbL",
      "ZpMw6XxSuZdpupcDa"
    ],
    "banners": {
      "versionUpdate-3_10_3": {
        "id": "versionUpdate-3_10_3",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.10.3"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.10.3"
      },
      "alert-5fd28c37f5204d0905436930": {
        "id": "alert-5fd28c37f5204d0905436930",
        "priority": 10,
        "title": "Warning",
        "text": "Please note that push to official Rocket.Chat mobile apps is unavailable for non-registered servers. See how to register your server [here], and check our forum for more details. If don't want to receive new notifications and are running version 3.5 or higher, you can turn it off in Administration > General > Updates > Enable the Update Checker.",
        "textArguments": [],
        "modifiers": [],
        "link": "https://docs.rocket.chat/guides/administrator-guides/connectivity-services#introduction"
      },
      "versionUpdate-3_10_4": {
        "id": "versionUpdate-3_10_4",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.10.4"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.10.4"
      },
      "versionUpdate-3_10_5": {
        "id": "versionUpdate-3_10_5",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.10.5"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.10.5"
      },
      "versionUpdate-3_11_0": {
        "id": "versionUpdate-3_11_0",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.11.0"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.11.0"
      },
      "versionUpdate-3_11_1": {
        "id": "versionUpdate-3_11_1",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.11.1"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.11.1"
      },
      "versionUpdate-3_12_0": {
        "id": "versionUpdate-3_12_0",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.12.0"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.12.0"
      },
      "versionUpdate-3_12_1": {
        "id": "versionUpdate-3_12_1",
        "priority": 10,
        "title": "Update_your_RocketChat",
        "text": "New_version_available_(s)",
        "textArguments": [
          "3.12.1"
        ],
        "link": "https://github.com/RocketChat/Rocket.Chat/releases/tag/3.12.1"
      }
    },
    "operator": true,
    "statusLivechat": "available",
    "livechatCount": 120,
    "statusText": "",
    "requirePasswordChange": false,
    "settings": {
      "preferences": {
        "language": "en"
      },
      "profile": {}
    },
    "language": "en",
    "ipPhone": "55555",
    "statusDefault": "online",
    "gender": "Male"
  },
  "room": {
    "_id": "ZpMw6XxSuZdpupcDa",
    "name": "THANG-TEST-2",
    "fname": "THANG-TEST-2",
    "t": "p",
    "msgs": 9,
    "usersCount": 2,
    "u": {
      "_id": "rocket.cat",
      "username": "scc.chat"
    },
    "customFields": {
      "isFacebook": true,
      "dataFacebook": {}
    },
    "ts": "2021-03-18T02:38:32.403Z",
    "ro": false,
    "default": false,
    "sysMes": true,
    "_updatedAt": "2021-03-18T04:20:23.256Z",
    "lastMessage": {
      "_id": "HLekBGfj7mpXQPKRx",
      "rid": "ZpMw6XxSuZdpupcDa",
      "ts": "2021-03-18T04:20:23.227Z",
      "msg": "",
      "file": {
        "_id": "g8PeByHhP7E5LqoTP",
        "name": "worklow-in-out-message-from-socials.png",
        "type": "image/png"
      },
      "groupable": false,
      "attachments": [
        {
          "ts": "1970-01-01T00:00:00.000Z",
          "title": "worklow-in-out-message-from-socials.png",
          "title_link": "/file-upload/g8PeByHhP7E5LqoTP/worklow-in-out-message-from-socials.png",
          "title_link_download": true,
          "image_dimensions": {
            "width": 1481,
            "height": 1121
          },
          "image_preview": "/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAYACADASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAwACBAj/xAAgEAABBAEFAQEAAAAAAAAAAAABAAIDESEEEiIxQSMy/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOpNPe02bylWvL8xwNG0zbru0BZdI8X4jggkY8l5tp8STcCXN7SsJLQTWQgPUfnPVpGigMqUgPUGoyfFnGDtab8UpB//2Q==",
          "image_url": "/file-upload/g8PeByHhP7E5LqoTP/worklow-in-out-message-from-socials.png",
          "image_type": "image/png",
          "image_size": 107136,
          "type": "file"
        }
      ],
      "u": {
        "_id": "zk8ei6fZYTxnNdbWg",
        "username": "thangtm13",
        "name": "Thang Tran"
      },
      "_updatedAt": "2021-03-18T04:20:23.250Z",
      "mentions": [],
      "channels": []
    },
    "lm": "2021-03-18T04:20:23.227Z"
  },
  "message": {
    "_id": "5dQFEhdfwqCJoQYyz",
    "rid": "ZpMw6XxSuZdpupcDa",
    "ts": "2021-03-18T04:25:17.943Z",
    "msg": "",
    "file": {
      "_id": "z263eYghE9wzHJz8m",
      "name": "worklow-in-out-message-from-socials.png",
      "type": "image/png"
    },
    "groupable": false,
    "attachments": [
      {
        "ts": "1970-01-01T00:00:00.000Z",
        "title": "worklow-in-out-message-from-socials.png",
        "title_link": "/file-upload/z263eYghE9wzHJz8m/worklow-in-out-message-from-socials.png",
        "title_link_download": true,
        "image_dimensions": {
          "width": 1481,
          "height": 1121
        },
        "image_preview": "/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAYACADASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAwACBAj/xAAgEAABBAEFAQEAAAAAAAAAAAABAAIDESEEEiIxQSMy/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOpNPe02bylWvL8xwNG0zbru0BZdI8X4jggkY8l5tp8STcCXN7SsJLQTWQgPUfnPVpGigMqUgPUGoyfFnGDtab8UpB//2Q==",
        "image_url": "/file-upload/z263eYghE9wzHJz8m/worklow-in-out-message-from-socials.png",
        "image_type": "image/png",
        "image_size": 107136,
        "type": "file"
      }
    ],
    "u": {
      "_id": "zk8ei6fZYTxnNdbWg",
      "username": "thangtm13",
      "name": "Thang Tran"
    },
    "_updatedAt": "2021-03-18T04:25:17.973Z",
    "mentions": [],
    "channels": []
  }
}
```
